@using HR_Portal.Models;
@{
    ViewData["Title"] = "Info";
}
<form asp-action="Edit">
    @if(ViewBag.Result is not null)
            foreach(var obj in ViewBag.Result){
    <div class="border border-secondary rounded p-3 mt-4">
        <h2 class="text-white"><i class="bi bi-box"></i> Request Info</h2>
        <br />
        <input  class="input2" name="id" value="@obj.RequestId"  hidden/> 
        <div class="mb-3">
            <label class="label-gray"><i class="bi bi-123"></i> Request ID</label>
            <input  class="input2" value="@obj.RequestId" disabled/>
        </div>
        <div class="mb-3">
            <label class="label-gray"><i class="bi bi-info-square"></i> Status</label>
            <input  class="input2"  value="@obj.FirstName @obj.LastName" disabled/>
        </div>
        <div class="mb-3">
            <label class="label-gray"><i class="bi bi-fonts"></i> Request Type</label>
            <input  class="input2"  value="@obj.RequestName" disabled/>
        </div>
                @if(ViewBag.Stat is not null)
                {
                    <div class="mb-3">
                        <label class="label-gray"><i class="bi bi-info-square"></i> Status</label>
                        <input  class="input2"  value="@obj.StatusName" disabled/>
                    </div>
                    <div class="mb-3">
                        <label class="label-gray"><i class="bi bi-folder-plus"></i> Additional Information</label>
                        <textarea rows="7" class="input2" name="desc" disabled>@obj.Description</textarea>
                    </div>
                }
                else
                {
                    <div class="mb-3">
                        <label class="label-gray"><i class="bi bi-info-square"></i> Status</label>
                        <select id="select-type" name="status" class="input2">
                            <option value="@obj.StatusId" selected>@obj.StatusName</option>
                            @if(ViewBag.Status is not null)
                            @foreach(var stat in ViewBag.Status)
                            {
                                <option value="@stat.StatusId">@stat.StatusName</option>
                            }
                        </select>
                     </div>
                     <div class="mb-3">
                         <label class="label-gray"><i class="bi bi-folder-plus"></i> Additional Information</label>
                         <textarea rows="7" class="input2" name="desc">@obj.Description</textarea>
                     </div>
                }
                
        <div class="mb-3">
            <label class="label-gray"><i class="bi bi-calendar-date"></i> Creation Date</label>
            <input  class="input2"  value="@obj.CreationDate" disabled/>
        </div>
                @if(ViewBag.Stat is not null)
                {
                    <a asp-controller="Request" asp-action="RejectHR" asp-route-id="@obj.RequestId" class="btn btn-sm btn-danger"> <i class="bi bi-trash-fill"></i> Reject</a>
                    <a asp-controller="Request" asp-action="AcceptHR" asp-route-id="@obj.RequestId" class="btn btn-sm btn-success"> <i class="bi bi-check-lg"></i> Accept</a>
                    <a asp-controller="Request" asp-action="ViewAll" class="btn btn-primary" style="width:150px">Back to list</a>
                }
                else
                {
                    <button type="submit" id="submit" class="btn btn-success">Update</button>
                    <a asp-controller="Request" asp-action="ViewAll" class="btn btn-primary" style="width:150px">Back to list</a>
                }
      </div>
    }
</form>
